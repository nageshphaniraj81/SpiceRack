/**
 * 
 */
package com.spicerack.testcases;

import java.util.concurrent.TimeUnit;

import org.openqa.selenium.firefox.FirefoxDriver;
import org.testng.Assert;
import org.testng.annotations.AfterTest;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Test;
import com.spicerack.framework.base.Base;
import com.spicerack.framework.base.DriverContext;
import com.spicerack.pages.MyStoreDressesPage;
import com.spicerack.pages.MyStoreHomePage;
import com.spicerack.pages.MyStoreLoginPage;
import com.spicerack.pages.MyStoreTShirtPage;
import com.spicerack.pages.MyStoreWomenPage;

/**
 * @author Nagesh Phaniraj
 *
 */
public class SampleShoppingTest extends Base {

	// URL of the page to be navigated
	private String baseURL = "http://automationpractice.com";

	@BeforeTest
	public void initialize() {
		System.setProperty("webdriver.gecko.driver", "C:\\Selenium\\Seleniumite\\lib\\geckodriver.exe");
		DriverContext.Driver = new FirefoxDriver();
		DriverContext.Driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);
		DriverContext.Driver.get(baseURL);

	}

	@Test
	public void testSignIn() throws InterruptedException {

		CurrentPage = GetInstance(MyStoreHomePage.class);
		CurrentPage = CurrentPage.As(MyStoreHomePage.class).clickSignIn();
		Thread.sleep(4000);
		CurrentPage.As(MyStoreLoginPage.class).login("nageshphaniraj2017@gmail.com", "test123");
		Thread.sleep(4000);
	}

	@Test(dependsOnMethods = "testSignIn")
	public void testWomenPage() {

		CurrentPage = GetInstance(MyStoreWomenPage.class);
		CurrentPage.As(MyStoreWomenPage.class).switchToWomenTab();
		CurrentPage.As(MyStoreWomenPage.class).waitTillPageLoad();
		Assert.assertEquals(CurrentPage.As(MyStoreWomenPage.class).isTitleDisplayed(), true);
	}

	@Test(dependsOnMethods = "testSignIn")
	public void testDressesPage() {

		CurrentPage = GetInstance(MyStoreDressesPage.class);
		CurrentPage.As(MyStoreDressesPage.class).switchToDressesTab();
		CurrentPage.As(MyStoreDressesPage.class).waitTillPageLoad();
		Assert.assertEquals(CurrentPage.As(MyStoreDressesPage.class).isTitleDisplayed(), true);

	}

	@Test(dependsOnMethods = "testSignIn")
	public void testTShirtPage() {

		CurrentPage = GetInstance(MyStoreTShirtPage.class);
		CurrentPage.As(MyStoreTShirtPage.class).switchToTShirtsTab();
		CurrentPage.As(MyStoreTShirtPage.class).waitTillPageLoad();
		Assert.assertEquals(CurrentPage.As(MyStoreTShirtPage.class).isTitleDisplayed(), true);

	}

	@AfterTest
	public void cleanUp() throws InterruptedException {

		CurrentPage = GetInstance(MyStoreHomePage.class);
		CurrentPage = CurrentPage.As(MyStoreHomePage.class).clickSignOff();
		Thread.sleep(4000);
		DriverContext.Driver.quit();
		Thread.sleep(4000);
	}

}
