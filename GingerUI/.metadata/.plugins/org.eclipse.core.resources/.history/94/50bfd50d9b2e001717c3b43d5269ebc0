/**
 * 
 */
package com.spicerack.framework.controls.api;

import java.lang.reflect.InvocationTargetException;
import java.util.NoSuchElementException;

import org.openqa.selenium.WebDriver;
import org.openqa.selenium.support.PageFactory;

/**
 * @author Nagesh Phaniraj
 *
 */
public class ControlFactory extends PageFactory {
	
	public static <T> T initElements(WebDriver driver, Class<T> pageClassToProxy){
		
		try{
			T page = pageClassToProxy.getConstructor(WebDriver.class).newInstance(driver);
			PageFactory.initElements(
					new ControlFieldDecorator(new DefaultElementLocatorFactory(driver),page);
					
					return page;
		}catch(InstantiationException | IllegalArgumentException
				|InvocationTargetException | NoSuchElementException e){
	          throw new RuntimeException(e);		
		}
	}

}
